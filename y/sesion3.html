<html>

<head>
    <meta name="Description" content="Sistemas de negicios">
    <title>Home </title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <link rel="stylesheet" href="estilos.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <link href="https://materializecss.com/css/prism.css" rel="stylesheet">
</head>

<body>
    <div id="wrapper">
        <div class="overlay"></div>
        <!-- Sidebar -->
        <nav class="navbar navbar-inverse fixed-top" id="sidebar-wrapper" role="navigation">
            <ul class="nav sidebar-nav">
                <div class="sidebar-header">
                    <div class="sidebar-brand">
                        <a href="#">PWC</a>
                    </div>
                </div>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="Librerias.html">Librerias</a></li>
                <li><a href="sesion1.html">Unidad 1</a></li>
                <li><a href="sesion2.html">Unidad 2</a></li>
                <li><a href="sesion3.html">Unidad 3</a></li>
                <li><a href="sesion4.html">Unidad 4</a></li>
                <li><a href="sesion5.html">Unidad 5</a></li>
            </ul>
        </nav>

        <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
        <div id="page-content-wrapper">
            <button type="button" class="hamburger animated fadeInLeft is-closed" data-toggle="offcanvas">
        <span class="hamb-top"></span>
        <span class="hamb-middle"></span>
        <span class="hamb-bottom"></span>
      </button>
            <div class="container">
                <div class="col-sm-12">
                    <h2 class="text-center">Unidad 3</h2>
                    <div id="accordion">
                        <div class="card">
                            <div class="card-header" style="text-align: center;">
                                <a class="collapsed card-link" id="3" data-toggle="collapse" href="#collapse3">
                                  Librerias.html
                                </a>
                            </div>
                            <div id="collapse3" class="collapse" data-parent="#accordion">
                                <div class="card-body">
                                    <pre class="  language-markupt">
                    <code class="  language-markupt">                                                             
&lt;script src="https://ptreesys.mx/sharedfiles/library/firebase.js"&gt;&lt;/script&gt;
&lt;script src="https://ptreesys.mx/sharedfiles/library/angularfire.min.js"&gt;&lt;/script&gt;
                    </code>
                  </pre>
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header" style="text-align: center;">
                                <a class="collapsed card-link" id="4" data-toggle="collapse" href="#collapse4">
                                  Cambio en el modulo y el controlador
                                </a>
                            </div>
                            <div id="collapse4" class="collapse" data-parent="#accordion">
                                <div class="card-body">
                                    <pre class="language-javascript">
                    <code class="language-javascript">        
                        var controllerApp = angular.module('ctrl', ['firebase']);
                        controllerApp.controller('ctrlIndex', function($scope, Service, $firebaseObject, $firebaseArray) {           
                    </code>
                   </pre>
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header" style="text-align: center;">
                                <a class="collapsed card-link" id="2" data-toggle="collapse" href="#collapse2">
                                  Controller.html
                </a>
                            </div>
                            <div id="collapse2" class="collapse" data-parent="#accordion">
                                <div class="card-body">
                                    <pre class="language-javascript">
                    <code class="language-javascript">        
                        $scope.getUser = function() {
                            $scope.rootUser = firebase.database().ref("Data/Perfiles");
                            $scope.dataUsers = $firebaseArray($scope.rootUser);
                            $scope.dataUsers.$loaded().then(function() {
                            var ref = firebase.database().ref("User"); // assume value here is { foo: "bar" }
                            var obj = $firebaseObject(ref);
                            obj.$bindTo($scope, "data").then(function() {
                                console.log("Cargado")
                                console.log($scope.dataUsers)
                                });
                            })
                        }
                        $scope.addUser = function() {
                            //$scope.array.push($scope.obj)
                            //$scope.dataUsers.$add($scope.obj)
                            $scope.rootUser.child("2").set($scope.obj).then(function() {
                                $scope.obj = {};
                            })
                        }
                        $scope.getName = function() {
                            const rootName = firebase.database().ref("Data/Perfiles/0");
                            $scope.myName = $firebaseObject(rootName);
                            $scope.myName.$loaded().then(function() {
                                console.log($scope.myName)
                            })
                        }
                        $scope.deleteFirebase = function() {
                            $scope.myName.$remove().then(function() {
                                alert("Editado");
                            })
                        }
                        $scope.saveFirebase = function() {
                            $scope.myName.$save().then(function() {
                                alert("Editado");
                            })
                        }
                        $scope.deleteUser = function(id) {
                            $scope.rootUserDelete = firebase.database().ref("Data/Perfiles/" + id);
                            $scope.dataUsersDelete = $firebaseObject($scope.rootUserDelete);
                            $scope.dataUsersDelete.$loaded().then(function() {
                                    $scope.dataUsersDelete.$remove().then(function() {
                                        alert('Usuario Eliminado satisfactoriamente')
                                    });
                                })
                                /*
                                console.log(id)
                                var index=$scope.dataUsers.$indexFor(id)
                                $scope.dataUsers.$remove(index).then(function (){
                                console.log("Eliminado")
                                })
                                */
                        }                                   
                    </code>
                   </pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-1"><br></div>
    </div>
    <!-- /#wrapper -->
    <script src="https://materializecss.com/docs/js/prism.js"></script>
    <!-- jQuery and JS bundle w/ Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <!-- AngularJS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/3.6.6/firebase.js"></script>
    <!-- AngularFire -->
    <script src="https://cdn.firebase.com/libs/angularfire/2.3.0/angularfire.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-firestore.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.2/moment.min.js"></script>
    <!------ Include the above in your HEAD tag ---------->
    <script type="text/javascript" src="javascript.js"></script>
</body>

</html>